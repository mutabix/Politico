'use strict';var cov_1qka2d9uui=function(){var path="/home/moise/Self-Build/JSCourse/Politico/SERVER/controllers/offices.js",hash="235f08017124727a3f3f7695819d3f42b2321af5",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/home/moise/Self-Build/JSCourse/Politico/SERVER/controllers/offices.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:19},end:{line:7,column:563}},"2":{start:{line:7,column:76},end:{line:7,column:347}},"3":{start:{line:7,column:134},end:{line:7,column:142}},"4":{start:{line:7,column:144},end:{line:7,column:199}},"5":{start:{line:7,column:200},end:{line:7,column:231}},"6":{start:{line:7,column:232},end:{line:7,column:286}},"7":{start:{line:7,column:259},end:{line:7,column:286}},"8":{start:{line:7,column:287},end:{line:7,column:345}},"9":{start:{line:7,column:350},end:{line:7,column:559}},"10":{start:{line:7,column:407},end:{line:7,column:475}},"11":{start:{line:7,column:423},end:{line:7,column:475}},"12":{start:{line:7,column:476},end:{line:7,column:536}},"13":{start:{line:7,column:493},end:{line:7,column:536}},"14":{start:{line:7,column:537},end:{line:7,column:556}},"15":{start:{line:9,column:11},end:{line:9,column:25}},"16":{start:{line:11,column:12},end:{line:11,column:40}},"17":{start:{line:13,column:14},end:{line:13,column:41}},"18":{start:{line:15,column:15},end:{line:15,column:46}},"19":{start:{line:17,column:39},end:{line:17,column:93}},"20":{start:{line:19,column:50},end:{line:19,column:151}},"21":{start:{line:19,column:92},end:{line:19,column:149}},"22":{start:{line:21,column:13},end:{line:80,column:3}},"23":{start:{line:23,column:8},end:{line:23,column:38}},"24":{start:{line:26,column:4},end:{line:77,column:8}},"25":{start:{line:32,column:35},end:{line:32,column:60}},"26":{start:{line:33,column:24},end:{line:33,column:46}},"27":{start:{line:35,column:12},end:{line:38,column:15}},"28":{start:{line:35,column:23},end:{line:38,column:15}},"29":{start:{line:40,column:25},end:{line:44,column:14}},"30":{start:{line:45,column:12},end:{line:45,column:42}},"31":{start:{line:46,column:12},end:{line:49,column:15}},"32":{start:{line:54,column:12},end:{line:57,column:15}},"33":{start:{line:62,column:25},end:{line:64,column:14}},"34":{start:{line:63,column:16},end:{line:63,column:57}},"35":{start:{line:65,column:12},end:{line:70,column:13}},"36":{start:{line:66,column:16},end:{line:69,column:19}},"37":{start:{line:72,column:12},end:{line:75,column:15}},"38":{start:{line:79,column:4},end:{line:79,column:18}},"39":{start:{line:83,column:17},end:{line:86,column:5}},"40":{start:{line:88,column:18},end:{line:92,column:5}},"41":{start:{line:94,column:4},end:{line:94,column:59}},"42":{start:{line:97,column:0},end:{line:97,column:25}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:31},end:{line:7,column:561}},line:7},"1":{name:"defineProperties",decl:{start:{line:7,column:42},end:{line:7,column:58}},loc:{start:{line:7,column:74},end:{line:7,column:349}},line:7},"2":{name:"(anonymous_2)",decl:{start:{line:7,column:357},end:{line:7,column:358}},loc:{start:{line:7,column:405},end:{line:7,column:558}},line:7},"3":{name:"_interopRequireDefault",decl:{start:{line:17,column:9},end:{line:17,column:31}},loc:{start:{line:17,column:37},end:{line:17,column:95}},line:17},"4":{name:"_classCallCheck",decl:{start:{line:19,column:9},end:{line:19,column:24}},loc:{start:{line:19,column:48},end:{line:19,column:153}},line:19},"5":{name:"(anonymous_5)",decl:{start:{line:21,column:13},end:{line:21,column:14}},loc:{start:{line:21,column:25},end:{line:80,column:1}},line:21},"6":{name:"Office",decl:{start:{line:22,column:13},end:{line:22,column:19}},loc:{start:{line:22,column:22},end:{line:24,column:5}},line:22},"7":{name:"createOffice",decl:{start:{line:31,column:24},end:{line:31,column:36}},loc:{start:{line:31,column:47},end:{line:50,column:9}},line:31},"8":{name:"getAllOffices",decl:{start:{line:53,column:24},end:{line:53,column:37}},loc:{start:{line:53,column:48},end:{line:58,column:9}},line:53},"9":{name:"getOneOffice",decl:{start:{line:61,column:24},end:{line:61,column:36}},loc:{start:{line:61,column:47},end:{line:76,column:9}},line:61},"10":{name:"(anonymous_10)",decl:{start:{line:62,column:47},end:{line:62,column:48}},loc:{start:{line:62,column:61},end:{line:64,column:13}},line:62},"11":{name:"officeValidator",decl:{start:{line:82,column:9},end:{line:82,column:24}},loc:{start:{line:82,column:33},end:{line:95,column:1}},line:82}},branchMap:{"0":{loc:{start:{line:7,column:168},end:{line:7,column:198}},type:"binary-expr",locations:[{start:{line:7,column:168},end:{line:7,column:189}},{start:{line:7,column:193},end:{line:7,column:198}}],line:7},"1":{loc:{start:{line:7,column:232},end:{line:7,column:286}},type:"if",locations:[{start:{line:7,column:232},end:{line:7,column:286}},{start:{line:7,column:232},end:{line:7,column:286}}],line:7},"2":{loc:{start:{line:7,column:407},end:{line:7,column:475}},type:"if",locations:[{start:{line:7,column:407},end:{line:7,column:475}},{start:{line:7,column:407},end:{line:7,column:475}}],line:7},"3":{loc:{start:{line:7,column:476},end:{line:7,column:536}},type:"if",locations:[{start:{line:7,column:476},end:{line:7,column:536}},{start:{line:7,column:476},end:{line:7,column:536}}],line:7},"4":{loc:{start:{line:17,column:46},end:{line:17,column:92}},type:"cond-expr",locations:[{start:{line:17,column:70},end:{line:17,column:73}},{start:{line:17,column:76},end:{line:17,column:92}}],line:17},"5":{loc:{start:{line:17,column:46},end:{line:17,column:67}},type:"binary-expr",locations:[{start:{line:17,column:46},end:{line:17,column:49}},{start:{line:17,column:53},end:{line:17,column:67}}],line:17},"6":{loc:{start:{line:19,column:50},end:{line:19,column:151}},type:"if",locations:[{start:{line:19,column:50},end:{line:19,column:151}},{start:{line:19,column:50},end:{line:19,column:151}}],line:19},"7":{loc:{start:{line:35,column:12},end:{line:38,column:15}},type:"if",locations:[{start:{line:35,column:12},end:{line:38,column:15}},{start:{line:35,column:12},end:{line:38,column:15}}],line:35},"8":{loc:{start:{line:65,column:12},end:{line:70,column:13}},type:"if",locations:[{start:{line:65,column:12},end:{line:70,column:13}},{start:{line:65,column:12},end:{line:70,column:13}}],line:65}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_1qka2d9uui.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _createClass=(cov_1qka2d9uui.s[1]++,function(){cov_1qka2d9uui.f[0]++;function defineProperties(target,props){cov_1qka2d9uui.f[1]++;cov_1qka2d9uui.s[2]++;for(var i=0;i<props.length;i++){var descriptor=(cov_1qka2d9uui.s[3]++,props[i]);cov_1qka2d9uui.s[4]++;descriptor.enumerable=(cov_1qka2d9uui.b[0][0]++,descriptor.enumerable)||(cov_1qka2d9uui.b[0][1]++,false);cov_1qka2d9uui.s[5]++;descriptor.configurable=true;cov_1qka2d9uui.s[6]++;if("value"in descriptor){cov_1qka2d9uui.b[1][0]++;cov_1qka2d9uui.s[7]++;descriptor.writable=true;}else{cov_1qka2d9uui.b[1][1]++;}cov_1qka2d9uui.s[8]++;Object.defineProperty(target,descriptor.key,descriptor);}}cov_1qka2d9uui.s[9]++;return function(Constructor,protoProps,staticProps){cov_1qka2d9uui.f[2]++;cov_1qka2d9uui.s[10]++;if(protoProps){cov_1qka2d9uui.b[2][0]++;cov_1qka2d9uui.s[11]++;defineProperties(Constructor.prototype,protoProps);}else{cov_1qka2d9uui.b[2][1]++;}cov_1qka2d9uui.s[12]++;if(staticProps){cov_1qka2d9uui.b[3][0]++;cov_1qka2d9uui.s[13]++;defineProperties(Constructor,staticProps);}else{cov_1qka2d9uui.b[3][1]++;}cov_1qka2d9uui.s[14]++;return Constructor;};}());var _joi=(cov_1qka2d9uui.s[15]++,require('joi'));var _joi2=(cov_1qka2d9uui.s[16]++,_interopRequireDefault(_joi));var _office=(cov_1qka2d9uui.s[17]++,require('../models/office'));var _office2=(cov_1qka2d9uui.s[18]++,_interopRequireDefault(_office));function _interopRequireDefault(obj){cov_1qka2d9uui.f[3]++;cov_1qka2d9uui.s[19]++;return(cov_1qka2d9uui.b[5][0]++,obj)&&(cov_1qka2d9uui.b[5][1]++,obj.__esModule)?(cov_1qka2d9uui.b[4][0]++,obj):(cov_1qka2d9uui.b[4][1]++,{default:obj});}function _classCallCheck(instance,Constructor){cov_1qka2d9uui.f[4]++;cov_1qka2d9uui.s[20]++;if(!(instance instanceof Constructor)){cov_1qka2d9uui.b[6][0]++;cov_1qka2d9uui.s[21]++;throw new TypeError("Cannot call a class as a function");}else{cov_1qka2d9uui.b[6][1]++;}}var Office=(cov_1qka2d9uui.s[22]++,function(){cov_1qka2d9uui.f[5]++;function Office(){cov_1qka2d9uui.f[6]++;cov_1qka2d9uui.s[23]++;_classCallCheck(this,Office);}cov_1qka2d9uui.s[24]++;_createClass(Office,null,[{key:'createOffice',// Create office
value:function createOffice(req,res){cov_1qka2d9uui.f[7]++;var _officeValidator=(cov_1qka2d9uui.s[25]++,officeValidator(req.body)),error=(cov_1qka2d9uui.s[26]++,_officeValidator.error);cov_1qka2d9uui.s[27]++;if(error){cov_1qka2d9uui.b[7][0]++;cov_1qka2d9uui.s[28]++;return res.send({status:404,error:error.details[0].message});}else{cov_1qka2d9uui.b[7][1]++;}var office=(cov_1qka2d9uui.s[29]++,[{id:_office2.default.length+1,type:req.body.type,name:req.body.name}]);cov_1qka2d9uui.s[30]++;_office2.default.push(office);cov_1qka2d9uui.s[31]++;res.send({status:200,data:[office]});}},{key:'getAllOffices',value:function getAllOffices(req,res){cov_1qka2d9uui.f[8]++;cov_1qka2d9uui.s[32]++;return res.send({status:200,data:_office2.default});}},{key:'getOneOffice',value:function getOneOffice(req,res){cov_1qka2d9uui.f[9]++;var office=(cov_1qka2d9uui.s[33]++,_office2.default.find(function(of){cov_1qka2d9uui.f[10]++;cov_1qka2d9uui.s[34]++;return of.id===parseInt(req.params.id);}));cov_1qka2d9uui.s[35]++;if(!office){cov_1qka2d9uui.b[8][0]++;cov_1qka2d9uui.s[36]++;return res.send({status:404,error:'Office with ID  '+req.params.id+' is not found!'});}else{cov_1qka2d9uui.b[8][1]++;}cov_1qka2d9uui.s[37]++;res.send({status:200,data:[office]});}}]);cov_1qka2d9uui.s[38]++;return Office;}());function officeValidator(office){cov_1qka2d9uui.f[11]++;var schema=(cov_1qka2d9uui.s[39]++,{type:_joi2.default.string().min(3).max(10).required(),name:_joi2.default.string().min(3).max(10).required()});var options=(cov_1qka2d9uui.s[40]++,{language:{key:'{{key}} '}});cov_1qka2d9uui.s[41]++;return _joi2.default.validate(office,schema,options);}cov_1qka2d9uui.s[42]++;exports.default=Office;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9mZmljZXMuanMiXSwibmFtZXMiOlsiT2ZmaWNlIiwicmVxIiwicmVzIiwib2ZmaWNlVmFsaWRhdG9yIiwiYm9keSIsImVycm9yIiwic2VuZCIsInN0YXR1cyIsImRldGFpbHMiLCJtZXNzYWdlIiwib2ZmaWNlIiwiaWQiLCJvZmZpY2VzIiwibGVuZ3RoIiwidHlwZSIsIm5hbWUiLCJwdXNoIiwiZGF0YSIsImZpbmQiLCJvZiIsInBhcnNlSW50IiwicGFyYW1zIiwic2NoZW1hIiwiSm9pIiwic3RyaW5nIiwibWluIiwibWF4IiwicmVxdWlyZWQiLCJvcHRpb25zIiwibGFuZ3VhZ2UiLCJrZXkiLCJ2YWxpZGF0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7OztJQUdNQSxNOzs7Ozs7Ozs7QUFFRjtxQ0FDb0JDLEcsRUFBS0MsRyxFQUFLO0FBQUEsbUNBSXRCQyxnQkFBZ0JGLElBQUlHLElBQXBCLENBSnNCO0FBQUEsZ0JBR3RCQyxLQUhzQixvQkFHdEJBLEtBSHNCOztBQU0xQixnQkFBSUEsS0FBSixFQUFXLE9BQU9ILElBQUlJLElBQUosQ0FBUztBQUN2QkMsd0JBQVEsR0FEZTtBQUV2QkYsdUJBQU9BLE1BQU1HLE9BQU4sQ0FBYyxDQUFkLEVBQWlCQztBQUZELGFBQVQsQ0FBUDs7QUFLWCxnQkFBTUMsU0FBUyxDQUFDO0FBQ1pDLG9CQUFJQyxpQkFBUUMsTUFBUixHQUFpQixDQURUO0FBRVpDLHNCQUFNYixJQUFJRyxJQUFKLENBQVNVLElBRkg7QUFHWkMsc0JBQU1kLElBQUlHLElBQUosQ0FBU1c7QUFISCxhQUFELENBQWY7QUFLQUgsNkJBQVFJLElBQVIsQ0FBYU4sTUFBYjtBQUNBUixnQkFBSUksSUFBSixDQUFTO0FBQ0xDLHdCQUFRLEdBREg7QUFFTFUsc0JBQU0sQ0FBQ1AsTUFBRDtBQUZELGFBQVQ7QUFJSDs7O3NDQUVvQlQsRyxFQUFLQyxHLEVBQUk7QUFDMUIsbUJBQU9BLElBQUlJLElBQUosQ0FBUztBQUNaQyx3QkFBUSxHQURJO0FBRVpVLHNCQUFNTDtBQUZNLGFBQVQsQ0FBUDtBQUlIOzs7cUNBRW1CWCxHLEVBQUtDLEcsRUFBSTtBQUN6QixnQkFBTVEsU0FBU0UsaUJBQVFNLElBQVIsQ0FBYTtBQUFBLHVCQUFNQyxHQUFHUixFQUFILEtBQVVTLFNBQVNuQixJQUFJb0IsTUFBSixDQUFXVixFQUFwQixDQUFoQjtBQUFBLGFBQWIsQ0FBZjtBQUNBLGdCQUFHLENBQUNELE1BQUosRUFBVztBQUNQLHVCQUFPUixJQUFJSSxJQUFKLENBQVM7QUFDWkMsNEJBQVEsR0FESTtBQUVaRixnREFBMEJKLElBQUlvQixNQUFKLENBQVdWLEVBQXJDO0FBRlksaUJBQVQsQ0FBUDtBQUlIOztBQUVEVCxnQkFBSUksSUFBSixDQUFTO0FBQ0xDLHdCQUFRLEdBREg7QUFFTFUsc0JBQU0sQ0FBQ1AsTUFBRDtBQUZELGFBQVQ7QUFJSDs7Ozs7O0FBSUwsU0FBU1AsZUFBVCxDQUF5Qk8sTUFBekIsRUFBaUM7QUFDN0IsUUFBTVksU0FBUztBQUNYUixjQUFNUyxjQUFJQyxNQUFKLEdBQWFDLEdBQWIsQ0FBaUIsQ0FBakIsRUFBb0JDLEdBQXBCLENBQXdCLEVBQXhCLEVBQTRCQyxRQUE1QixFQURLO0FBRVhaLGNBQU1RLGNBQUlDLE1BQUosR0FBYUMsR0FBYixDQUFpQixDQUFqQixFQUFvQkMsR0FBcEIsQ0FBd0IsRUFBeEIsRUFBNEJDLFFBQTVCO0FBRkssS0FBZjs7QUFLQSxRQUFNQyxVQUFVO0FBQ1pDLGtCQUFVO0FBQ05DLGlCQUFLO0FBREM7QUFERSxLQUFoQjs7QUFNQSxXQUFPUCxjQUFJUSxRQUFKLENBQWFyQixNQUFiLEVBQXFCWSxNQUFyQixFQUE2Qk0sT0FBN0IsQ0FBUDtBQUNIOztrQkFHYzVCLE0iLCJmaWxlIjoib2ZmaWNlcy5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9tb2lzZS9TZWxmLUJ1aWxkL0pTQ291cnNlL1BvbGl0aWNvL1NFUlZFUi9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IEpvaSBmcm9tICdqb2knOyBcbmltcG9ydCBvZmZpY2VzIGZyb20gJy4uL21vZGVscy9vZmZpY2UnOyBcblxuXG5jbGFzcyBPZmZpY2V7XG4gICAgXG4gICAgLy8gQ3JlYXRlIG9mZmljZVxuICAgIHN0YXRpYyBjcmVhdGVPZmZpY2UocmVxLCByZXMpIHtcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBlcnJvclxuICAgICAgICB9ID0gb2ZmaWNlVmFsaWRhdG9yKHJlcS5ib2R5KTtcblxuICAgICAgICBpZiAoZXJyb3IpIHJldHVybiByZXMuc2VuZCh7XG4gICAgICAgICAgICBzdGF0dXM6IDQwNCxcbiAgICAgICAgICAgIGVycm9yOiBlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2VcbiAgICAgICAgfSlcblxuICAgICAgICBjb25zdCBvZmZpY2UgPSBbe1xuICAgICAgICAgICAgaWQ6IG9mZmljZXMubGVuZ3RoICsgMSxcbiAgICAgICAgICAgIHR5cGU6IHJlcS5ib2R5LnR5cGUsXG4gICAgICAgICAgICBuYW1lOiByZXEuYm9keS5uYW1lXG4gICAgICAgIH1dO1xuICAgICAgICBvZmZpY2VzLnB1c2gob2ZmaWNlKTtcbiAgICAgICAgcmVzLnNlbmQoe1xuICAgICAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgICAgICBkYXRhOiBbb2ZmaWNlXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0QWxsT2ZmaWNlcyhyZXEsIHJlcyl7XG4gICAgICAgIHJldHVybiByZXMuc2VuZCh7XG4gICAgICAgICAgICBzdGF0dXM6IDIwMCwgXG4gICAgICAgICAgICBkYXRhOiBvZmZpY2VzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRPbmVPZmZpY2UocmVxLCByZXMpe1xuICAgICAgICBjb25zdCBvZmZpY2UgPSBvZmZpY2VzLmZpbmQob2YgPT4gb2YuaWQgPT09IHBhcnNlSW50KHJlcS5wYXJhbXMuaWQpKTsgXG4gICAgICAgIGlmKCFvZmZpY2Upe1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zZW5kKHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDQwNCwgXG4gICAgICAgICAgICAgICAgZXJyb3I6IGBPZmZpY2Ugd2l0aCBJRCAgJHtyZXEucGFyYW1zLmlkfSBpcyBub3QgZm91bmQhYFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgICBzdGF0dXM6IDIwMCwgXG4gICAgICAgICAgICBkYXRhOiBbb2ZmaWNlXVxuICAgICAgICB9KTtcbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gb2ZmaWNlVmFsaWRhdG9yKG9mZmljZSkge1xuICAgIGNvbnN0IHNjaGVtYSA9IHtcbiAgICAgICAgdHlwZTogSm9pLnN0cmluZygpLm1pbigzKS5tYXgoMTApLnJlcXVpcmVkKCksXG4gICAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5taW4oMykubWF4KDEwKS5yZXF1aXJlZCgpLFxuICAgIH07XG5cbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBsYW5ndWFnZToge1xuICAgICAgICAgICAga2V5OiAne3trZXl9fSAnXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gSm9pLnZhbGlkYXRlKG9mZmljZSwgc2NoZW1hLCBvcHRpb25zKTtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBPZmZpY2U7XG5cbiJdfQ==